export type Lang = "en" | "zh" | "ms";

export const LANG_COOKIE = "bb_lang";
const DEFAULT_LANG: Lang = "en";

const dict: Record<Lang, Record<string, string>> = {
  en: {
    "lang.en": "English",
    "lang.zh": "中文",
    "lang.ms": "Bahasa Melayu",
    "nav.dashboard": "Dashboard",
    "nav.shop": "Shop",
    "nav.products": "Products",
    "nav.orders": "Orders",
    "nav.ai": "AI Marketing",
    "nav.billing": "Billing",
    "nav.settings": "Settings",
    "nav.plan_reviews": "Plan Reviews",
    "topbar.welcome": "Welcome back,",
    "topbar.ai_credits": "AI Credits",
    "sidebar.plan": "Plan",
    "sidebar.seller_os": "Seller OS",
    "plan.active": "Active",
    "plan.free": "Free",
    "home.subtitle": "AI-Powered Digital Bazaar",
    "home.login": "Login",
    "home.admin": "Admin",
    "home.badge": "Modern Digital Bazaar + AI Ops",
    "home.title": "Operate Raya Sales Like a Real SaaS Team",
    "home.desc": "Run shop setup, order tracking, receipt workflow, and AI marketing from one dark-mode control center.",
    "home.b1": "10-minute shop setup",
    "home.b2": "AI marketing tools",
    "home.b3": "Order tracking + receipt",
    "home.welcome": "Welcome Screen",
    "home.welcome_desc": "This is your product-first entry, not a marketing landing page. Login when ready to manage operations.",
    "home.go_login": "Go to Login",
    "home.demo": "View Demo Storefront",
    "auth.title": "AI-Powered Digital Bazaar",
    "auth.desc": "Built for structured seller operations, not generic store pages.",
    "auth.login_title": "Login",
    "auth.login_desc": "Use email + password. New user can register directly.",
    "auth.admin_login": "Admin login",
    "auth.banned": "This account is currently banned. Contact admin support.",
    "auth.feature1": "10-minute shop setup",
    "auth.feature1_desc": "Create a branded storefront and share link quickly.",
    "auth.feature2": "AI marketing tools",
    "auth.feature2_desc": "Generate poster, product background and copy bundle.",
    "auth.feature3": "Order + receipt flow",
    "auth.feature3_desc": "Track proof payment and issue receipt in one panel.",
    "auth.tag.fast": "Fast",
    "auth.tag.ai": "AI",
    "auth.tag.ops": "Ops",
    "form.email": "seller@email.com",
    "form.password": "Password",
    "form.referral": "Referral code (optional)",
    "form.login": "Login",
    "form.register": "Register",
    "form.wait": "Please wait...",
    "form.created": "Account created. If email confirmation is enabled, confirm email first.",
    "form.failed_login": "Login failed",
    "form.failed_register": "Register failed",
    "form.forgot_password": "Forgot password?",
    "form.send_reset": "Send reset link",
    "form.reset_sent": "Password reset email sent. Check your inbox.",
    "form.email_required": "Enter your email first.",
  },
  zh: {
    "lang.en": "English",
    "lang.zh": "中文",
    "lang.ms": "Bahasa Melayu",
    "nav.dashboard": "仪表盘",
    "nav.shop": "店铺",
    "nav.products": "产品",
    "nav.orders": "订单",
    "nav.ai": "AI 营销",
    "nav.billing": "账单",
    "nav.settings": "设置",
    "nav.plan_reviews": "配套审核",
    "topbar.welcome": "欢迎回来，",
    "topbar.ai_credits": "AI 点数",
    "sidebar.plan": "配套",
    "sidebar.seller_os": "卖家系统",
    "plan.active": "已启用",
    "plan.free": "免费",
    "home.subtitle": "AI 驱动的数字巴刹",
    "home.login": "登录",
    "home.admin": "管理后台",
    "home.badge": "现代数字巴刹 + AI 运营",
    "home.title": "像专业 SaaS 团队一样运营你的开斋生意",
    "home.desc": "在一个深色控制中心完成开店、订单、收据与 AI 营销。",
    "home.b1": "10 分钟开店",
    "home.b2": "AI 营销工具",
    "home.b3": "订单追踪 + 收据",
    "home.welcome": "欢迎页",
    "home.welcome_desc": "这是产品控制入口，不是营销落地页。准备好后再登录。",
    "home.go_login": "前往登录",
    "home.demo": "查看示例店铺",
    "auth.title": "AI 驱动的数字巴刹",
    "auth.desc": "专为卖家运营设计，不是普通网页商店。",
    "auth.login_title": "登录",
    "auth.login_desc": "使用邮箱+密码登录，新用户可直接注册。",
    "auth.admin_login": "管理员登录",
    "auth.banned": "账号已被封禁，请联系管理员。",
    "auth.feature1": "10 分钟开店",
    "auth.feature1_desc": "快速创建品牌店铺并分享链接。",
    "auth.feature2": "AI 营销工具",
    "auth.feature2_desc": "生成海报、产品背景和文案组合。",
    "auth.feature3": "订单 + 收据流程",
    "auth.feature3_desc": "统一管理付款凭证与收据开立。",
    "auth.tag.fast": "快速",
    "auth.tag.ai": "AI",
    "auth.tag.ops": "运营",
    "form.email": "seller@email.com",
    "form.password": "密码",
    "form.referral": "推荐码（可选）",
    "form.login": "登录",
    "form.register": "注册",
    "form.wait": "请稍候...",
    "form.created": "账号已创建。如启用邮箱验证，请先确认邮箱。",
    "form.failed_login": "登录失败",
    "form.failed_register": "注册失败",
    "form.forgot_password": "忘记密码？",
    "form.send_reset": "发送重设链接",
    "form.reset_sent": "已发送重设邮件，请检查收件箱。",
    "form.email_required": "请先输入邮箱。",
  },
  ms: {
    "lang.en": "English",
    "lang.zh": "中文",
    "lang.ms": "Bahasa Melayu",
    "nav.dashboard": "Papan Pemuka",
    "nav.shop": "Kedai",
    "nav.products": "Produk",
    "nav.orders": "Pesanan",
    "nav.ai": "Pemasaran AI",
    "nav.billing": "Bil",
    "nav.settings": "Tetapan",
    "nav.plan_reviews": "Semakan Pelan",
    "topbar.welcome": "Selamat kembali,",
    "topbar.ai_credits": "Kredit AI",
    "sidebar.plan": "Pelan",
    "sidebar.seller_os": "Sistem Penjual",
    "plan.active": "Aktif",
    "plan.free": "Percuma",
    "home.subtitle": "Bazar Digital Berkuasa AI",
    "home.login": "Log masuk",
    "home.admin": "Admin",
    "home.badge": "Bazar Digital Moden + Operasi AI",
    "home.title": "Urus Jualan Raya Seperti Pasukan SaaS Profesional",
    "home.desc": "Urus kedai, pesanan, resit dan pemasaran AI dalam satu pusat kawalan gelap.",
    "home.b1": "Buka kedai dalam 10 minit",
    "home.b2": "Alat pemasaran AI",
    "home.b3": "Jejak pesanan + resit",
    "home.welcome": "Skrin Selamat Datang",
    "home.welcome_desc": "Ini ialah pintu masuk produk, bukan landing page pemasaran.",
    "home.go_login": "Pergi ke Login",
    "home.demo": "Lihat Demo Kedai",
    "auth.title": "Bazar Digital Berkuasa AI",
    "auth.desc": "Direka untuk operasi penjual yang tersusun.",
    "auth.login_title": "Log masuk",
    "auth.login_desc": "Guna emel + kata laluan. Pengguna baharu boleh daftar terus.",
    "auth.admin_login": "Log masuk Admin",
    "auth.banned": "Akaun ini telah disekat. Sila hubungi admin.",
    "auth.feature1": "Buka kedai dalam 10 minit",
    "auth.feature1_desc": "Cipta storefront berjenama dan kongsi pautan dengan cepat.",
    "auth.feature2": "Alat pemasaran AI",
    "auth.feature2_desc": "Jana poster, latar produk dan bundle copy.",
    "auth.feature3": "Aliran pesanan + resit",
    "auth.feature3_desc": "Urus bukti bayaran dan resit dalam satu panel.",
    "auth.tag.fast": "Pantas",
    "auth.tag.ai": "AI",
    "auth.tag.ops": "Ops",
    "form.email": "seller@email.com",
    "form.password": "Kata laluan",
    "form.referral": "Kod rujukan (pilihan)",
    "form.login": "Log masuk",
    "form.register": "Daftar",
    "form.wait": "Sila tunggu...",
    "form.created": "Akaun berjaya dibuat. Jika pengesahan emel aktif, sahkan emel dahulu.",
    "form.failed_login": "Log masuk gagal",
    "form.failed_register": "Pendaftaran gagal",
    "form.forgot_password": "Lupa kata laluan?",
    "form.send_reset": "Hantar pautan reset",
    "form.reset_sent": "Emel reset kata laluan telah dihantar. Semak peti masuk anda.",
    "form.email_required": "Sila isi emel dahulu.",
  },
};

const extra: Record<string, Record<Lang, string>> = {
  "common.back": { en: "Back", zh: "返回", ms: "Kembali" },
  "common.apply": { en: "Apply", zh: "应用", ms: "Terap" },
  "common.sign_out": { en: "Sign out", zh: "登出", ms: "Log keluar" },
  "common.seller": { en: "Seller", zh: "卖家", ms: "Penjual" },
  "common.guest": { en: "Guest", zh: "访客", ms: "Tetamu" },
  "dashboard.notices": { en: "Notices", zh: "通知", ms: "Notis" },
  "dashboard.warning": { en: "Warning", zh: "警告", ms: "Amaran" },
  "dashboard.announcement": { en: "Announcement", zh: "公告", ms: "Pengumuman" },
  "dashboard.today_orders": { en: "Today Orders", zh: "今日订单", ms: "Pesanan Hari Ini" },
  "dashboard.total_sales": { en: "Total Sales", zh: "总销售", ms: "Jumlah Jualan" },
  "dashboard.pending": { en: "Pending", zh: "待处理", ms: "Menunggu" },
  "dashboard.paid": { en: "Paid", zh: "已付款", ms: "Dibayar" },
  "dashboard.workspace": { en: "Workspace", zh: "工作区", ms: "Ruang Kerja" },
  "dashboard.welcome_named": { en: "Welcome back,", zh: "欢迎回来，", ms: "Selamat kembali," },
  "dashboard.setup_quick": { en: "Setup checklist + quick actions to launch faster.", zh: "完成设置清单与快捷操作，加速开卖。", ms: "Checklist persediaan + tindakan pantas untuk mula lebih cepat." },
  "dashboard.ai_ready": { en: "AI-ready", zh: "AI 就绪", ms: "Sedia AI" },
  "dashboard.free_title": { en: "Your account is on Free plan", zh: "你的账号目前是免费配套", ms: "Akaun anda berada pada pelan Percuma" },
  "dashboard.free_desc": { en: "Upgrade in Billing and submit bank slip. Once approved, Shop/Products/Orders/AI will unlock.", zh: "请到账单页升级并提交银行凭证，审核通过后将解锁店铺/产品/订单/AI。", ms: "Naik taraf di Bil dan hantar slip bank. Selepas diluluskan, Kedai/Produk/Pesanan/AI akan dibuka." },
  "dashboard.upgrade_now": { en: "Upgrade Now", zh: "立即升级", ms: "Naik Taraf Sekarang" },
  "dashboard.setup_checklist": { en: "Setup Checklist", zh: "设置清单", ms: "Checklist Persediaan" },
  "dashboard.step1": { en: "1. Create your shop profile", zh: "1. 创建店铺资料", ms: "1. Cipta profil kedai" },
  "dashboard.step2": { en: "2. Add first product", zh: "2. 添加第一个产品", ms: "2. Tambah produk pertama" },
  "dashboard.step3": { en: "3. Share `/s/your-slug` link", zh: "3. 分享 `/s/your-slug` 链接", ms: "3. Kongsi pautan `/s/your-slug`" },
  "dashboard.create_shop": { en: "Create Shop", zh: "创建店铺", ms: "Cipta Kedai" },
  "dashboard.add_product": { en: "Add Product", zh: "添加产品", ms: "Tambah Produk" },
  "dashboard.weekly_sales": { en: "Weekly Sales", zh: "每周销售", ms: "Jualan Mingguan" },
  "dashboard.recent_orders": { en: "Recent Orders", zh: "近期订单", ms: "Pesanan Terkini" },
  "dashboard.view_all": { en: "View all", zh: "查看全部", ms: "Lihat semua" },
  "dashboard.order": { en: "Order", zh: "订单", ms: "Pesanan" },
  "dashboard.buyer": { en: "Buyer", zh: "买家", ms: "Pembeli" },
  "dashboard.status": { en: "Status", zh: "状态", ms: "Status" },
  "dashboard.amount": { en: "Amount", zh: "金额", ms: "Jumlah" },
  "dashboard.no_orders": { en: "No orders yet.", zh: "还没有订单。", ms: "Belum ada pesanan." },
  "dashboard.ai_shortcuts": { en: "AI Shortcuts", zh: "AI 快捷入口", ms: "Pintas AI" },
  "dashboard.ai_shortcuts_desc_on": { en: "Generate assets faster with one-click flows.", zh: "一键快速生成营销素材。", ms: "Jana aset dengan lebih pantas melalui aliran satu klik." },
  "dashboard.ai_shortcuts_desc_off": { en: "Upgrade to unlock AI bundle and shop operations.", zh: "升级后解锁 AI 套件与店铺运营功能。", ms: "Naik taraf untuk buka AI bundle dan operasi kedai." },
  "dashboard.product_bg": { en: "Product Background", zh: "产品背景图", ms: "Latar Produk" },
  "dashboard.poster_generator": { en: "Poster Generator", zh: "海报生成器", ms: "Penjana Poster" },
  "dashboard.copy_bundle": { en: "Copy Bundle", zh: "文案组合", ms: "Bundle Copy" },
  "dashboard.upgrade_plan": { en: "Upgrade Plan", zh: "升级配套", ms: "Naik Taraf Pelan" },
  "dashboard.credits_meter": { en: "Credits Meter", zh: "点数面板", ms: "Meter Kredit" },
  "dashboard.current_plan": { en: "Current plan:", zh: "当前配套：", ms: "Pelan semasa:" },
  "shop.title": { en: "Shop Profile", zh: "店铺资料", ms: "Profil Kedai" },
  "shop.desc": { en: "Manage name, slug, theme, WhatsApp and branding.", zh: "管理店名、slug、主题、WhatsApp 与品牌信息。", ms: "Urus nama, slug, tema, WhatsApp dan penjenamaan." },
  "products.title": { en: "Products", zh: "产品", ms: "Produk" },
  "products.desc": { en: "CRUD products and availability.", zh: "管理产品与上下架状态。", ms: "Urus produk dan ketersediaan." },
  "orders.title": { en: "Orders", zh: "订单", ms: "Pesanan" },
  "orders.order_code": { en: "Order Code", zh: "订单号", ms: "Kod Pesanan" },
  "orders.subtotal": { en: "Subtotal", zh: "小计", ms: "Subjumlah" },
  "orders.no_orders": { en: "No orders yet.", zh: "还没有订单。", ms: "Belum ada pesanan." },
  "settings.title": { en: "Settings", zh: "设置", ms: "Tetapan" },
  "settings.desc": { en: "Reserved for workspace and preference settings.", zh: "用于工作区与偏好设置。", ms: "Dikhaskan untuk tetapan ruang kerja dan pilihan." },
  "ai.ops": { en: "AI Operations", zh: "AI 运营", ms: "Operasi AI" },
  "ai.bundle": { en: "AI Marketing Bundle", zh: "AI 营销套件", ms: "Bundle Pemasaran AI" },
  "ai.bundle_title": { en: "Product Photo + Poster + Copy", zh: "产品图 + 海报 + 文案", ms: "Foto Produk + Poster + Copy" },
  "ai.bundle_desc": { en: "Background/content by AI, typography by system for reliable output.", zh: "背景与内容由 AI 生成，文字排版由系统完成，输出更稳定。", ms: "Latar/kandungan dijana AI, tipografi oleh sistem untuk hasil yang stabil." },
  "ai.product_photo_title": { en: "A) Product Photo Beautifier", zh: "A) 产品图美化", ms: "A) Cantikkan Foto Produk" },
  "ai.poster_title": { en: "B) Poster Generator", zh: "B) 海报生成器", ms: "B) Penjana Poster" },
  "ai.copy_title": { en: "C) Copy Generator", zh: "C) 文案生成", ms: "C) Penjana Copy" },
  "ai.copy_credit_badge": { en: "1 copy credit", zh: "1 文案点数", ms: "1 kredit copy" },
  "ai.product_name_placeholder": { en: "Product name", zh: "产品名称", ms: "Nama produk" },
  "ai.product_desc_placeholder": { en: "Short description (optional)", zh: "简短描述（可选）", ms: "Penerangan ringkas (pilihan)" },
  "ai.photo_upload_label": { en: "Upload product photo (optional)", zh: "上传产品图（可选）", ms: "Muat naik foto produk (pilihan)" },
  "ai.photo_upload_cta": { en: "Upload Image", zh: "上传图片", ms: "Muat Naik Imej" },
  "ai.photo_upload_hint": { en: "If you upload a photo, we enhance it (same as Products page). Without photo, AI generates background only.", zh: "上传照片将进行增强（与产品页相同）。未上传则仅生成背景。", ms: "Jika muat naik foto, kami enhance (sama seperti halaman Produk). Tanpa foto, AI jana latar sahaja." },
  "ai.generating": { en: "Generating...", zh: "生成中...", ms: "Menjana..." },
  "ai.generate_bg_cta": { en: "Generate Background (1 image credit)", zh: "生成背景（1 图片点数）", ms: "Jana Latar (1 kredit imej)" },
  "ai.enhance_photo_cta": { en: "Enhance Photo (1 image credit)", zh: "增强照片（1 图片点数）", ms: "Enhance Foto (1 kredit imej)" },
  "ai.preparing_image": { en: "Preparing image...", zh: "准备图片...", ms: "Sediakan imej..." },
  "ai.loading_bg": { en: "Generating clean background", zh: "生成干净背景", ms: "Menjana latar bersih" },
  "ai.poster_product_placeholder": { en: "Poster title / product", zh: "海报标题 / 产品", ms: "Tajuk poster / produk" },
  "ai.poster_subtitle_placeholder": { en: "Subtitle / key point", zh: "副标题 / 卖点", ms: "Subtajuk / kelebihan" },
  "ai.poster_cta_placeholder": { en: "CTA", zh: "行动按钮", ms: "CTA" },
  "ai.rendering": { en: "Rendering...", zh: "渲染中...", ms: "Merender..." },
  "ai.generate_poster_cta": { en: "Generate Poster (1 poster credit)", zh: "生成海报（1 海报点数）", ms: "Jana Poster (1 kredit poster)" },
  "ai.composing_poster": { en: "Composing text-safe poster...", zh: "排版海报...", ms: "Menyusun poster..." },
  "ai.poster_loading": { en: "AI background + system typography", zh: "AI 背景 + 系统排版", ms: "Latar AI + tipografi sistem" },
  "ai.selling_points_placeholder": { en: "Key selling points", zh: "主要卖点", ms: "Poin jualan utama" },
  "ai.generate_copy_cta": { en: "Generate Copy Bundle (1 copy credit)", zh: "生成文案（1 文案点数）", ms: "Jana Bundle Copy (1 kredit copy)" },
  "ai.select_product": { en: "Select product (optional)", zh: "选择产品（可选）", ms: "Pilih produk (pilihan)" },
  "ai.use_copy_data": { en: "Use Copy Data", zh: "使用文案数据", ms: "Guna Data Copy" },
  "ai.copy_credits": { en: "Copy credits:", zh: "文案点数：", ms: "Kredit copy:" },
  "ai.image_credits": { en: "Image credits:", zh: "图片点数：", ms: "Kredit imej:" },
  "ai.poster_credits": { en: "Poster credits:", zh: "海报点数：", ms: "Kredit poster:" },
  "billing.title": { en: "Billing & Access", zh: "账单与权限", ms: "Bil & Akses" },
  "billing.free_desc": { en: "Free users can view dashboard only. Submit upgrade request to unlock all modules.", zh: "免费用户仅可查看仪表盘，提交升级申请后可解锁全部模块。", ms: "Pengguna percuma hanya boleh lihat dashboard. Hantar permohonan naik taraf untuk buka semua modul." },
  "billing.plan_credits": { en: "Plan credits included:", zh: "配套内含点数：", ms: "Kredit pelan termasuk:" },
  "billing.referral_title": { en: "Referral Program", zh: "推荐计划", ms: "Program Rujukan" },
  "billing.referral_desc": { en: "Share your code. When referred member upgrades, you get bonus AI credits.", zh: "分享你的推荐码，被推荐用户升级后你可获得 AI 奖励点数。", ms: "Kongsi kod anda. Bila ahli rujukan naik taraf, anda dapat kredit bonus AI." },
  "billing.your_code": { en: "Your code", zh: "你的推荐码", ms: "Kod anda" },
  "billing.referred_upgrades": { en: "Referred upgrades", zh: "推荐升级数", ms: "Naik taraf rujukan" },
  "billing.total_bonus": { en: "Total bonus credits", zh: "累计奖励点数", ms: "Jumlah kredit bonus" },
  "buyer.preorder": { en: "Raya pre-order shop. No login needed.", zh: "开斋预购店铺，无需登录。", ms: "Kedai pra-tempahan Raya. Tidak perlu log masuk." },
  "buyer.products": { en: "Products", zh: "产品", ms: "Produk" },
  "buyer.menu_soon": { en: "Seasonal menu is being prepared. Check back soon.", zh: "季节菜单正在准备中，请稍后再来。", ms: "Menu bermusim sedang disediakan. Sila semak semula nanti." },
  "buyer.place_order": { en: "Place Order", zh: "下单", ms: "Buat Pesanan" },
  "buyer.pick_one": { en: "Pick at least one product.", zh: "请至少选择一个产品。", ms: "Pilih sekurang-kurangnya satu produk." },
  "buyer.order_failed": { en: "Order failed.", zh: "下单失败。", ms: "Pesanan gagal." },
  "buyer.name_optional": { en: "Your Name (optional)", zh: "你的姓名（可选）", ms: "Nama anda (pilihan)" },
  "buyer.phone_optional": { en: "Phone / WhatsApp (optional)", zh: "电话 / WhatsApp（可选）", ms: "Telefon / WhatsApp (pilihan)" },
  "buyer.total": { en: "Total:", zh: "总计：", ms: "Jumlah:" },
  "buyer.submit_order": { en: "Submit Order", zh: "提交订单", ms: "Hantar Pesanan" },
  "buyer.order_page": { en: "Order", zh: "订单", ms: "Pesanan" },
  "buyer.shop": { en: "Shop:", zh: "店铺：", ms: "Kedai:" },
  "buyer.amount": { en: "Amount:", zh: "金额：", ms: "Jumlah:" },
  "buyer.manual_qr": { en: "Manual QR Payment", zh: "手动二维码付款", ms: "Bayaran QR Manual" },
  "buyer.manual_qr_desc": { en: "Scan seller QR and submit your reference/proof below.", zh: "请扫描卖家二维码并在下方提交参考号/付款凭证。", ms: "Imbas QR penjual dan hantar rujukan/bukti anda di bawah." },
  "buyer.items": { en: "Items", zh: "商品明细", ms: "Item" },
  "buyer.no_items": { en: "No items found.", zh: "未找到商品。", ms: "Tiada item ditemui." },
  "buyer.submit_proof": { en: "Submit Payment Proof", zh: "提交付款凭证", ms: "Hantar Bukti Bayaran" },
  "buyer.reference_text": { en: "Reference text", zh: "转账参考号", ms: "Teks rujukan" },
  "buyer.proof_url": { en: "Proof image URL (optional)", zh: "凭证图片链接（可选）", ms: "URL imej bukti (pilihan)" },
  "buyer.submit": { en: "Submit Proof", zh: "提交凭证", ms: "Hantar Bukti" },
  "buyer.i_paid": { en: "I Have Paid", zh: "我已付款", ms: "Saya Sudah Bayar" },
  "buyer.submitting": { en: "Submitting...", zh: "提交中...", ms: "Menghantar..." },
  "buyer.proof_ok": { en: "Proof submitted.", zh: "凭证已提交。", ms: "Bukti berjaya dihantar." },
  "admin.login_title": { en: "Admin Login", zh: "管理员登录", ms: "Log Masuk Admin" },
  "admin.login_desc": { en: "Only accounts with admin role can enter approval dashboard.", zh: "仅限管理员角色账号进入审核后台。", ms: "Hanya akaun dengan peranan admin boleh masuk dashboard kelulusan." },
  "admin.not_admin": { en: "Current account is not admin. Please login with an admin account.", zh: "当前账号不是管理员，请使用管理员账号登录。", ms: "Akaun semasa bukan admin. Sila log masuk dengan akaun admin." },
  "admin.banned": { en: "This account has been banned.", zh: "该账号已被封禁。", ms: "Akaun ini telah disekat." },
  "admin.back_seller": { en: "Back to Seller Login", zh: "返回卖家登录", ms: "Kembali ke Login Penjual" },
  "admin.plan_reviews": { en: "Plan Reviews", zh: "配套审核", ms: "Semakan Pelan" },
  "admin.members": { en: "Members", zh: "会员", ms: "Ahli" },
  "admin.announcements": { en: "Announcements", zh: "公告", ms: "Pengumuman" },
  "admin.pricing": { en: "Pricing", zh: "定价", ms: "Harga" },
  "admin.dashboard_title": { en: "Admin Dashboard", zh: "管理后台", ms: "Dashboard Admin" },
  "admin.dashboard_desc": { en: "Upgrade review, approval SLA, and audit visibility in one panel.", zh: "升级审核、处理时效与审计记录集中在一个面板。", ms: "Semakan naik taraf, SLA kelulusan dan audit dalam satu panel." },
  "admin.pending_reviews": { en: "Pending Reviews", zh: "待审核", ms: "Semakan Tertunda" },
  "admin.approved_today": { en: "Approved Today", zh: "今日批准", ms: "Diluluskan Hari Ini" },
  "admin.avg_review_time": { en: "Avg Review Time", zh: "平均审核时间", ms: "Purata Masa Semakan" },
  "admin.approved_revenue": { en: "Approved Revenue", zh: "已批准收入", ms: "Hasil Diluluskan" },
  "admin.search_requests": { en: "Search by display name, user id, or reference", zh: "按名称、用户 ID 或参考号搜索", ms: "Cari ikut nama, id pengguna atau rujukan" },
  "admin.all_statuses": { en: "All statuses", zh: "全部状态", ms: "Semua status" },
  "admin.pending_only": { en: "Pending only", zh: "仅待审核", ms: "Tertunda sahaja" },
  "admin.approved_only": { en: "Approved only", zh: "仅已批准", ms: "Diluluskan sahaja" },
  "admin.rejected_only": { en: "Rejected only", zh: "仅已拒绝", ms: "Ditolak sahaja" },
  "admin.plan_distribution": { en: "Plan Distribution", zh: "配套分布", ms: "Agihan Pelan" },
  "admin.audit_trail": { en: "Audit Trail", zh: "审计日志", ms: "Jejak Audit" },
  "admin.approved": { en: "Approved", zh: "已批准", ms: "Diluluskan" },
  "admin.rejected": { en: "Rejected", zh: "已拒绝", ms: "Ditolak" },
  "admin.user": { en: "User:", zh: "用户：", ms: "Pengguna:" },
  "admin.plan": { en: "Plan:", zh: "配套：", ms: "Pelan:" },
  "admin.at": { en: "At:", zh: "时间：", ms: "Pada:" },
  "admin.note": { en: "Note:", zh: "备注：", ms: "Nota:" },
  "admin.no_audit": { en: "No audit logs yet.", zh: "暂无审计日志。", ms: "Belum ada log audit." },
  "admin.member_management": { en: "Member Management", zh: "会员管理", ms: "Pengurusan Ahli" },
  "admin.member_desc": { en: "Manage plan tier, ban/unban, and send direct warning notice.", zh: "管理会员配套、封禁/解封与发送警告通知。", ms: "Urus pelan ahli, sekat/nyahsekat, dan hantar amaran terus." },
  "admin.all_members": { en: "All members", zh: "全部会员", ms: "Semua ahli" },
  "admin.active_only": { en: "Active only", zh: "仅活跃", ms: "Aktif sahaja" },
  "admin.banned_only": { en: "Banned only", zh: "仅封禁", ms: "Disekat sahaja" },
  "admin.announcement_center": { en: "Announcement Center", zh: "公告中心", ms: "Pusat Pengumuman" },
  "admin.announcement_desc": { en: "Publish platform updates and policy notices to all members.", zh: "向全体会员发布平台更新与政策通知。", ms: "Terbitkan kemas kini platform dan notis polisi kepada semua ahli." },
  "admin.active_count": { en: "active", zh: "启用中", ms: "aktif" },
  "admin.pricing_control": { en: "Pricing Control", zh: "价格控制", ms: "Kawalan Harga" },
  "admin.pricing_desc": { en: "Configure list price and promo price shown in billing.", zh: "配置账单页显示的原价与促销价。", ms: "Tetapkan harga senarai dan harga promosi yang dipaparkan di bil." },
  "shop.setup.step": { en: "Step 1 of 3", zh: "第 1 步（共 3 步）", ms: "Langkah 1 daripada 3" },
  "shop.setup.flow": { en: "1) Shop Info -> 2) Add Products -> 3) Share Your Link", zh: "1）店铺资料 -> 2）添加产品 -> 3）分享链接", ms: "1) Info Kedai -> 2) Tambah Produk -> 3) Kongsi Pautan" },
  "shop.setup.title": { en: "Set Up Your Shop", zh: "设置你的店铺", ms: "Sediakan Kedai Anda" },
  "shop.setup.desc": { en: "Tell us about your shop so customers can place orders easily.", zh: "填写店铺资料，让顾客可以更轻松地下单。", ms: "Beritahu tentang kedai anda supaya pelanggan boleh membuat pesanan dengan mudah." },
  "shop.setup.once": { en: "You only need to do this once.", zh: "这个步骤只需做一次。", ms: "Anda hanya perlu buat ini sekali." },
  "shop.setup.relax": { en: "Don't worry - you can edit everything later.", zh: "别担心，之后都可以再修改。", ms: "Jangan risau - anda boleh ubah semuanya kemudian." },
  "shop.field.name.label": { en: "Shop Name", zh: "店铺名称", ms: "Nama Kedai" },
  "shop.field.name.helper": { en: "This is the name customers will see on your shop page.", zh: "这是顾客在店铺页看到的名称。", ms: "Ini ialah nama yang pelanggan nampak pada halaman kedai anda." },
  "shop.field.slug.label": { en: "Shop Link Name", zh: "店铺链接名称", ms: "Nama Pautan Kedai" },
  "shop.field.slug.helper": { en: "This will be part of your shop link.", zh: "这会成为你店铺链接的一部分。", ms: "Ini akan menjadi sebahagian daripada pautan kedai anda." },
  "shop.field.slug.preview": { en: "Your shop link:", zh: "你的店铺链接：", ms: "Pautan kedai anda:" },
  "shop.field.slug.note": { en: "Use small letters and no spaces.", zh: "请用小写字母，不要有空格。", ms: "Gunakan huruf kecil dan tiada ruang." },
  "shop.field.whatsapp.label": { en: "WhatsApp Number", zh: "WhatsApp 号码", ms: "Nombor WhatsApp" },
  "shop.field.whatsapp.helper": { en: "Customers will click this to contact you after placing an order.", zh: "顾客下单后会点击这个号码联系你。", ms: "Pelanggan akan klik ini untuk hubungi anda selepas membuat pesanan." },
  "shop.field.area.label": { en: "Pickup / Delivery Area (Optional)", zh: "自取 / 配送区域（可选）", ms: "Kawasan Ambil / Hantar (Pilihan)" },
  "shop.field.area.helper": { en: "Tell customers where you deliver or allow pickup.", zh: "告诉顾客你提供配送或可自取的范围。", ms: "Beritahu pelanggan kawasan penghantaran atau tempat ambil sendiri." },
  "shop.field.logo.label": { en: "Upload Shop Logo (Optional)", zh: "上传店铺 Logo（可选）", ms: "Muat Naik Logo Kedai (Pilihan)" },
  "shop.field.logo.helper": { en: "Upload a photo of your shop logo. You can skip this for now.", zh: "上传你的店铺 Logo 图片，这一步可以先跳过。", ms: "Muat naik gambar logo kedai anda. Anda boleh langkau dahulu." },
  "shop.field.logo.upload": { en: "Upload Logo", zh: "上传 Logo", ms: "Muat Naik Logo" },
  "shop.field.logo.uploading": { en: "Uploading...", zh: "上传中...", ms: "Memuat naik..." },
  "shop.field.logo.done": { en: "Logo uploaded.", zh: "Logo 已上传。", ms: "Logo berjaya dimuat naik." },
  "shop.field.style.label": { en: "Shop Style", zh: "店铺风格", ms: "Gaya Kedai" },
  "shop.field.style.helper": { en: "Choose how your shop page looks.", zh: "选择你的店铺页面风格。", ms: "Pilih rupa halaman kedai anda." },
  "shop.style.gold": { en: "Gold Raya", zh: "金色开斋", ms: "Gold Raya" },
  "shop.style.gold.sub": { en: "Premium look", zh: "高级感", ms: "Gaya premium" },
  "shop.style.minimal": { en: "Green Minimal", zh: "绿色极简", ms: "Hijau Minimal" },
  "shop.style.cute": { en: "Cute Festive", zh: "可爱节庆", ms: "Comel Festif" },
  "shop.save_continue": { en: "Save & Continue", zh: "保存并继续", ms: "Simpan & Teruskan" },
  "shop.next_product": { en: "Next step: Add your first product.", zh: "下一步：添加你的第一个产品。", ms: "Langkah seterusnya: tambah produk pertama anda." },
};

export function normalizeLang(raw?: string | null): Lang {
  if (raw === "zh" || raw === "ms" || raw === "en") return raw;
  return DEFAULT_LANG;
}

export function t(lang: Lang, key: string) {
  const extraHit = extra[key];
  if (extraHit) {
    return extraHit[lang] ?? extraHit.en ?? key;
  }
  return dict[lang][key] ?? dict.en[key] ?? key;
}
